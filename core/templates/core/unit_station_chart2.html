<!DOCTYPE html> 
<html lang="en" dir="ltr"> 
  
<head> 
  <meta charset="utf-8"> 
  <title>chatsjs</title> 
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> 
  
  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
  
  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> 
  
  
  
</head> 
  
<div id="container" style="width: 75%;">
  <center class="row"> 
    <h1>Unit station monthly target loans chart</b></h1> 
  </center> 
  <hr /> 
  <!--  <div class="row"> 
    <div class="col-md-6"> 
      <canvas id="myChartline"></canvas> 
    </div> -->
  <div class="col-md-12"> 
      <canvas id="myChartBar"></canvas> 
    </div> 
  </div> 
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script> 
  
  <script> 
    var endpoint = '/api'; 
  
    $.ajax({ 
      method: "GET", 
      url: endpoint, 
      success: function(data) { 
        //drawLineGraph(data, 'myChartline'); 
        drawBarGraph(data, 'myChartBar'); 
        console.log("drawing"); 
      }, 
      error: function(error_data) { 
        console.log(error_data); 
      } 
    }) 
  

	
   function drawBarGraph(data, id) { 
      var labels = data.labels; 
     // var chartLabel = data.chartLabel; 
      var data = data.data; 
      var ctx = document.getElementById(id).getContext('2d'); 
      var myChart = new Chart(ctx, { 
        type: 'bar', 
        data: { 
          labels: labels, 
          datasets: [{ 
           // label: chartLabel, 
            data: data, 
            backgroundColor: 'blue',
             
            
          //  borderWidth: 1 
          }] 
        }, 
        options: { 
          scales: { 
            yAxes: [{ 
              ticks: { 
                beginAtZero: true
              } 
            }] 
          } 
        } 
      }); 
    } 
   
  </script> 
</body> 
  
</html> 
